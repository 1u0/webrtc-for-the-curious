<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="What security does WebRTC have? #  Every WebRTC connection is authenticated and encrypted. You can be confident that a 3rd paert can&rsquo;t what you are sending. They also can&rsquo;t insert bogus messages. You can also be sure the WebRTC Agent that generated the Session Description is the one you are communicating with.
It is very important that no one tampers with those messages. It is ok if a 3rd party reads the Session Description in transit."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Securing"><meta property="og:description" content="What security does WebRTC have? #  Every WebRTC connection is authenticated and encrypted. You can be confident that a 3rd paert can&rsquo;t what you are sending. They also can&rsquo;t insert bogus messages. You can also be sure the WebRTC Agent that generated the Session Description is the one you are communicating with.
It is very important that no one tampers with those messages. It is ok if a 3rd party reads the Session Description in transit."><meta property="og:type" content="article"><meta property="og:url" content="https://webrtcforthecurious.com/docs/04-securing/"><meta property="article:modified_time" content="2020-08-21T12:49:37-07:00"><title>Securing | WebRTC for the Curious</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.c6cd199b6a6fd37bbd8a2fe457ef2711dcf46ceb4f9a585d9da536f1bb72f582.js integrity="sha256-xs0Zm2pv03u9ii/kV+8nEdz0bOtPmlhdnaU28bty9YI="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>WebRTC for the Curious</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/01-what-why-and-how/>What, Why and How</a></li><li><a href=/docs/02-signaling/>Signaling</a></li><li><a href=/docs/03-connecting/>Connecting</a></li><li><a href=/docs/04-securing/ class=active>Securing</a></li><li><a href=/docs/05-media-communication/>Media Communication</a></li><li><a href=/docs/06-data-communication/>Data Communication</a></li><li><a href=/docs/08-debugging/>Debugging</a></li><li><a href=/docs/09-history-of-webrtc/>History</a></li><li><a href=/docs/10-faq/>FAQ</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Securing</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#what-security-does-webrtc-have>What security does WebRTC have?</a></li><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#security-101>Security 101</a><ul><li></li></ul></li><li><a href=#dtls>DTLS</a></li><li><a href=#srtp>SRTP</a></li><li><a href=#tying-it-all-together>Tying it all together</a></li></ul></nav></aside></header><article class=markdown><h2 id=what-security-does-webrtc-have>What security does WebRTC have?
<a class=anchor href=#what-security-does-webrtc-have>#</a></h2><p>Every WebRTC connection is authenticated and encrypted. You can be confident that a 3rd paert can&rsquo;t what you are sending. They also can&rsquo;t insert bogus messages. You can also be sure the WebRTC Agent that generated the Session Description is the one you are communicating with.</p><p>It is very important that no one tampers with those messages. It is ok if a 3rd party reads the Session Description in transit. However WebRTC has no protection against it being modified. An attacker could MITM you by changing ICE Candidates and the Certificate Fingerprint.</p><h2 id=how-does-it-work>How does it work?
<a class=anchor href=#how-does-it-work>#</a></h2><p>WebRTC uses two pre-existing protocols <a href=https://tools.ietf.org/html/rfc6347>DTLS</a> and <a href=https://tools.ietf.org/html/rfc3711>SRTP</a></p><p>DTLS allows you negotiate a session and then exchange data securely between two peers. It is a sibling of TLS, the same technology tbat powers HTTPS. SRTP is designed just for exchanging media. There are some optimizations we can make by using it instead of DTLS.</p><p>DTLS is used first. It does a handshake over the connection provided by ICE. DTLS is a client/server protocol, so one side needs to start the handshake. The Client/Server roles are chosen during signaling. During the DTLS handshake both sides offer a certificate.
After the handshake is complete this certificate is compared to the certificate hash in the Session Description. This is to assert that the handshake happened with the WebRTC Agent you expected. The DTLS connection is then available to be used for DataChannel communication.</p><p>To create a SRTP session we initialize it from the keys generated by DTLS. SRTP does not have a handshake mechanism, so has to be bootstrapped with external keys. When this is done media can be exchanged that is encrypted via SRTP!</p><h2 id=security-101>Security 101
<a class=anchor href=#security-101>#</a></h2><p>To understand the technology presented in this chapter you will need to understand these terms first. Cryptography is a tricky subject so would be worth consulting other sources also!</p><h4 id=cipher>Cipher
<a class=anchor href=#cipher>#</a></h4><p>Cipher is a series of steps that takes plaintext to ciphertext. The cipher then be reversed so you can take your ciphertext back to plaintext. Another term for this is encrypting and decrypting.</p><p>A simple cipher is ROT13. Each letter is moved 13 characters foward. To undo the cipher you move 13 characters backwards. The plaintext <code>HELLO</code> would become the ciphertext <code>URYYB</code></p><h4 id=plaintextciphertext>Plaintext/Ciphertext
<a class=anchor href=#plaintextciphertext>#</a></h4><p>Plaintext is the input to a cipher. Ciphertext is the output of a cipher.</p><h4 id=hash>Hash
<a class=anchor href=#hash>#</a></h4><p>Hash is a one way process that generates a digest. Given a input it generates the same output every time. The output is not be reversible, a hash input shouldn&rsquo;t be guessable from an input. Hashing is useful when you want to confirm that a message hasn&rsquo;t been tampered.</p><p>A simple hash would be to only take every other letter <code>HELLO</code> would become <code>HLO</code>. You can&rsquo;t assume <code>HELLO</code> was the input, but you can confirm that <code>HELLO</code> would be a match.</p><h4 id=publicprivate-key-cryptography>Public/Private Key Cryptography
<a class=anchor href=#publicprivate-key-cryptography>#</a></h4><p>Public/Private Key Cryptography describes the type of ciphers that DTLS and SRTP uses. In this system you have two keys, a public and private key. The public key is for encrypting messages, and is is safe to share.
The private key is for decrypting, and shouldn&rsquo;t be shared. It is the only key that can decrypt the messages encrypted with the public key.</p><h4 id=diffiehellman-exchange>Diffie–Hellman exchange
<a class=anchor href=#diffiehellman-exchange>#</a></h4><p>Diffie–Hellman exchange allows two users who have never met before to share a value securely over the internet. User <code>A</code> can send the value <code>5</code> to User <code>B</code> without worrying about eavesdropping. This depends on the difficulty of breaking the discrete logarithm problem.
You don&rsquo;t have to fully understand this, but it helps to understand how the DTLS handshake is possible.</p><p>Wikipedia has an example of this in action <a href=https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange#Cryptographic_explanation>here</a></p><h2 id=dtls>DTLS
<a class=anchor href=#dtls>#</a></h2><p>DTLS (Datagram Transport Layer Security) allows two peers to establish secure communication with no pre-existing communication. Even if someone is eavesdropping on the conversation they will not be able to decrypt the messages.</p><p>DTLS has</p><h2 id=srtp>SRTP
<a class=anchor href=#srtp>#</a></h2><h2 id=tying-it-all-together>Tying it all together
<a class=anchor href=#tying-it-all-together>#</a></h2></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/commit/8b4f4fb7545329016a9b103c310723def0988e87 title="Last modified by Sean DuBois | August 21, 2020" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>August 21, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/edit/master/content//docs/04-securing.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#what-security-does-webrtc-have>What security does WebRTC have?</a></li><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#security-101>Security 101</a><ul><li></li></ul></li><li><a href=#dtls>DTLS</a></li><li><a href=#srtp>SRTP</a></li><li><a href=#tying-it-all-together>Tying it all together</a></li></ul></nav></aside></main></body></html>