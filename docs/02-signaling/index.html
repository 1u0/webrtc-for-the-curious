<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Why do I need signaling? #  When you create a WebRTC agent it knows nothing about the other peer. It has no idea who it is going to connect with or what they are going to send! Signaling is the inital bootstrapping that makes the call possible. After these values are exhanged the WebRTC agents then can communicate directly with each other.
Signaling messages are just text. The WebRTC agents don&rsquo;t care how they are transported."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Signaling"><meta property="og:description" content="Why do I need signaling? #  When you create a WebRTC agent it knows nothing about the other peer. It has no idea who it is going to connect with or what they are going to send! Signaling is the inital bootstrapping that makes the call possible. After these values are exhanged the WebRTC agents then can communicate directly with each other.
Signaling messages are just text. The WebRTC agents don&rsquo;t care how they are transported."><meta property="og:type" content="article"><meta property="og:url" content="https://webrtcforthecurious.com/docs/02-signaling/"><meta property="article:modified_time" content="2020-08-06T13:05:16-07:00"><title>Signaling | WebRTC for the Curious</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.7aa703194b75fd32464cff71e12873b863af7e4aab1d5541316ca47d118398e7.js integrity="sha256-eqcDGUt1/TJGTP9x4ShzuGOvfkqrHVVBMWykfRGDmOc="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>WebRTC for the Curious</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/01-what-why-and-how/>What, Why and How</a></li><li><a href=/docs/02-signaling/ class=active>Signaling</a></li><li><a href=/docs/03-connecting/>Connecting</a></li><li><a href=/docs/04-securing/>Securing</a></li><li><a href=/docs/05-media-communication/>Media Communication</a></li><li><a href=/docs/06-data-communication/>Data Communication</a></li><li><a href=/docs/08-debugging/>Debugging</a></li><li><a href=/docs/09-history-of-webrtc/>History</a></li><li><a href=/docs/10-faq/>FAQ</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Signaling</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#why-do-i-need-signaling>Why do I need signaling?</a></li><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#session-description-protocol>Session Description Protocol</a><ul><li><a href=#what-does-keyvalue-mean>What does Key/Value mean</a></li><li><a href=#webrtc-only-uses-some-keys>WebRTC only uses some keys</a></li><li><a href=#media-descriptions>Media Descriptions</a></li><li><a href=#example>Example</a></li></ul></li><li><a href=#session-description-protocol-and-webrtc>Session Description Protocol and WebRTC</a><ul><li><a href=#offers-and-answers>Offers and Answers</a></li><li><a href=#transceivers>Transceivers</a></li><li><a href=#renegotiation>Renegotiation</a></li><li><a href=#values-used-by-webrtc>Values used by WebRTC</a></li><li><a href=#simulcast>Simulcast</a></li><li><a href=#examples>Examples</a></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=why-do-i-need-signaling>Why do I need signaling?
<a class=anchor href=#why-do-i-need-signaling>#</a></h2><p>When you create a WebRTC agent it knows nothing about the other peer. It has no idea who it is going to connect with or what they are going to send! Signaling is the inital bootstrapping that makes the call possible. After these values are exhanged the WebRTC agents then can communicate directly with each other.</p><p>Signaling messages are just text. The WebRTC agents don&rsquo;t care how they are transported. They are commonly shared via Websockets, but not a requirement.</p><h2 id=how-does-it-work>How does it work?
<a class=anchor href=#how-does-it-work>#</a></h2><p>WebRTC uses an existing protcol called the Session Description Protocol. Via this protocol the two WebRTC Agents will share all the state required to establish a connection. The protocol itself is simple to read and understand. The complexity comes from understanding all the values that WebRTC
populates it with.</p><p>This protocol is not specific to WebRTC, so we can learn the Session Description Protocol first without even talking about WebRTC. WebRTC only really takes advantage of a subset of the protcol so we are only going to cover that. After we understand the protocol we will move on to its applied usage in WebRTC.</p><h2 id=session-description-protocol>Session Description Protocol
<a class=anchor href=#session-description-protocol>#</a></h2><p>The Session Description Protocol is defined in <a href=https://tools.ietf.org/html/rfc4566>RFC 4566</a>. It is a key/value protocol with a newline after each value. It will feel similar to an ini file.</p><h3 id=what-does-keyvalue-mean>What does Key/Value mean
<a class=anchor href=#what-does-keyvalue-mean>#</a></h3><h3 id=webrtc-only-uses-some-keys>WebRTC only uses some keys
<a class=anchor href=#webrtc-only-uses-some-keys>#</a></h3><p><code>v</code>, <code>o</code>, <code>s</code>, <code>t</code>, <code>m</code>, <code>a</code>, <code>c</code></p><h3 id=media-descriptions>Media Descriptions
<a class=anchor href=#media-descriptions>#</a></h3><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><pre><code>v=0
o=- 0 0 IN IP4 127.0.0.1
s=My Simple Session Description
c=IN IP4 127.0.0.1
t=0 0
m=audio 4000 RTP/AVP 111
a=rtpmap:111 OPUS/48000/2
m=video 4002 RTP/AVP 96
a=rtpmap:96 VP8/90000
</code></pre><h2 id=session-description-protocol-and-webrtc>Session Description Protocol and WebRTC
<a class=anchor href=#session-description-protocol-and-webrtc>#</a></h2><h3 id=offers-and-answers>Offers and Answers
<a class=anchor href=#offers-and-answers>#</a></h3><h3 id=transceivers>Transceivers
<a class=anchor href=#transceivers>#</a></h3><h3 id=renegotiation>Renegotiation
<a class=anchor href=#renegotiation>#</a></h3><h3 id=values-used-by-webrtc>Values used by WebRTC
<a class=anchor href=#values-used-by-webrtc>#</a></h3><h3 id=simulcast>Simulcast
<a class=anchor href=#simulcast>#</a></h3><h3 id=examples>Examples
<a class=anchor href=#examples>#</a></h3><pre><code>v=0
o=- 3546004397921447048 1596742744 IN IP4 0.0.0.0
s=-
t=0 0
a=fingerprint:sha-256 0F:74:31:25:CB:A2:13:EC:28:6F:6D:2C:61:FF:5D:C2:BC:B9:DB:3D:98:14:8D:1A:BB:EA:33:0C:A4:60:A8:8E
a=group:BUNDLE 0 1
m=audio 9 UDP/TLS/RTP/SAVPF 111
c=IN IP4 0.0.0.0
a=setup:active
a=mid:0
a=ice-ufrag:CsxzEWmoKpJyscFj
a=ice-pwd:mktpbhgREmjEwUFSIJyPINPUhgDqJlSd
a=rtcp-mux
a=rtcp-rsize
a=rtpmap:111 opus/48000/2
a=fmtp:111 minptime=10;useinbandfec=1
a=ssrc:350842737 cname:yvKPspsHcYcwGFTw
a=ssrc:350842737 msid:yvKPspsHcYcwGFTw DfQnKjQQuwceLFdV
a=ssrc:350842737 mslabel:yvKPspsHcYcwGFTw
a=ssrc:350842737 label:DfQnKjQQuwceLFdV
a=msid:yvKPspsHcYcwGFTw DfQnKjQQuwceLFdV
a=sendrecv
a=candidate:foundation 1 udp 2130706431 192.168.1.1 53165 typ host generation 0
a=candidate:foundation 2 udp 2130706431 192.168.1.1 53165 typ host generation 0
a=candidate:foundation 1 udp 1694498815 1.2.3.4 57336 typ srflx raddr 0.0.0.0 rport 57336 generation 0
a=candidate:foundation 2 udp 1694498815 1.2.3.4 57336 typ srflx raddr 0.0.0.0 rport 57336 generation 0
a=end-of-candidates
m=video 9 UDP/TLS/RTP/SAVPF 96
c=IN IP4 0.0.0.0
a=setup:active
a=mid:1
a=ice-ufrag:CsxzEWmoKpJyscFj
a=ice-pwd:mktpbhgREmjEwUFSIJyPINPUhgDqJlSd
a=rtcp-mux
a=rtcp-rsize
a=rtpmap:96 VP8/90000
a=ssrc:2180035812 cname:XHbOTNRFnLtesHwJ
a=ssrc:2180035812 msid:XHbOTNRFnLtesHwJ JgtwEhBWNEiOnhuW
a=ssrc:2180035812 mslabel:XHbOTNRFnLtesHwJ
a=ssrc:2180035812 label:JgtwEhBWNEiOnhuW
a=msid:XHbOTNRFnLtesHwJ JgtwEhBWNEiOnhuW
a=sendrecv
a=candidate:foundation 1 udp 2130706431 192.168.1.1 53165 typ host generation 0
a=candidate:foundation 2 udp 2130706431 192.168.1.1 53165 typ host generation 0
a=candidate:foundation 1 udp 1694498815 1.2.3.4 57336 typ srflx raddr 0.0.0.0 rport 57336 generation 0
a=candidate:foundation 2 udp 1694498815 1.2.3.4 57336 typ srflx raddr 0.0.0.0 rport 57336 generation 0
a=end-of-candidates
</code></pre></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/commit/3d9ef2f6a200b461a67f1a4e676e1bc3ecb2c74c title="Last modified by Sean DuBois | August 6, 2020" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>August 6, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/edit/master/content//docs/02-signaling.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#why-do-i-need-signaling>Why do I need signaling?</a></li><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#session-description-protocol>Session Description Protocol</a><ul><li><a href=#what-does-keyvalue-mean>What does Key/Value mean</a></li><li><a href=#webrtc-only-uses-some-keys>WebRTC only uses some keys</a></li><li><a href=#media-descriptions>Media Descriptions</a></li><li><a href=#example>Example</a></li></ul></li><li><a href=#session-description-protocol-and-webrtc>Session Description Protocol and WebRTC</a><ul><li><a href=#offers-and-answers>Offers and Answers</a></li><li><a href=#transceivers>Transceivers</a></li><li><a href=#renegotiation>Renegotiation</a></li><li><a href=#values-used-by-webrtc>Values used by WebRTC</a></li><li><a href=#simulcast>Simulcast</a></li><li><a href=#examples>Examples</a></li></ul></li></ul></nav></aside></main></body></html>